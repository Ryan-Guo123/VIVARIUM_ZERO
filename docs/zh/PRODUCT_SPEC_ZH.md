# VIVARIUM ZERO 产品规范（公共版中文）

版本：1.0  
语言：此文档为中文翻译，对应英文原文 `docs/PRODUCT_SPEC.md`。英文为主语言；中文为第二语言。  

## 1. 愿景
VIVARIUM ZERO 是一个 24/7 运行的人工生命模拟系统，生物进化的不是单纯数值参数，而是可执行的逻辑指令（基因编程）。轻量虚拟机解释基因磁带，涌现自适应策略。

## 2. 世界与规则
### 2.1 能量模型
- 被动增益：每秒获得少量能量，允许静止策略。
- 食物粒子：随机生成高能营养。
- 捕食：攻击可转移部分能量。
- 代谢消耗：被动衰减 + 复杂度税（代码越长 / 传感器越多消耗越高）。
- 死亡：能量 <= 0 转化为食物资源。

### 2.2 空间
- 有界二维空间，墙体反弹。
- 战术意义：角落可减少暴露面。

### 2.3 战斗
- 攻击是选择行为，不强制。
- 需要“攻击器官”方可造成伤害。
- 伤害 = 攻击力 - 护甲（后续平衡）。

## 3. 进化引擎
### 3.1 基因与虚拟机
基因：按序排列的指令磁带，由栈式虚拟机执行。
类别：
- 传感：SEE_FOOD, SEE_WALL, MY_ENERGY（可扩展）。
- 逻辑：IF, JUMP, ADD, SUB, MEMORY_SET。
- 行为：MOVE_FWD, ROTATE, ATTACK, SPLIT。

### 3.2 突变类型
- 点突变（操作码替换）
- 插入（新增指令）
- 删除（移除片段）
- 复制（复制一段）
防护：每 Tick 指令预算（Gas）限制死循环。

## 4. 架构概览
- 后端：Python + FastAPI 主循环与 VM 解释。
- 优化：后期可选 JIT / 向量化。
- 持久化：周期性快照（SQLite + JSON），支持回档。
- 前端：Web Canvas (p5.js) 表型可视化。

## 5. 阶段路线
Phase 1：初始移动与觅食 Demo。  
Phase 2：引入 VM，行为分化。  
Phase 3：时间轴与回档。  

## 6. 风险与对策
| 风险 | 描述 | 对策 |
|------|------|------|
| 死循环 | 无穷逻辑阻塞 | Gas 执行配额 |
| 种群爆炸 | 过度繁殖资源枯竭 | 动态能量稀缺策略 |
| 进化停滞 | 收敛到单一套路 | 环境扰动事件 |

## 7. 语言策略
公共仓库主语言：英文。  
中文文档路径：`docs/zh/`。  
内部私有草稿：放置于 `private/`（已设置忽略）。

## 8. 隐私与去标识化
已移除个人身份信息与具体家庭实验室细节；硬件抽象为通用边缘服务器环境。

## 9. 扩展方向
- 更多传感（方向性食物密度、邻近热度图）
- 防御特征（护甲、伪装）
- 社交信号指令
- 多层记忆模型

## 10. 非目标（当前）
- 分布式集群实时扩展
- 写实渲染
- 复杂流体模拟

## 11. 许可与贡献
MIT 协议。参考 CONTRIBUTING.md 与 CODE_OF_CONDUCT.md。

---
本中文文档用于辅助阅读，不替代英文主规范。
